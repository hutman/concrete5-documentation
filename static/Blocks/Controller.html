<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
    <title>Controller - Hutman Concrete5 Documentation</title>
    <meta name="description" content="">
    <meta name="author" content="Hutman, Inc.">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <link rel="icon" href="../themes/hutman/favicon.ico" type="image/x-icon">

    <!-- Mobile -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Font -->
    <link href='https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700&subset=latin,cyrillic-ext,cyrillic' rel='stylesheet' type='text/css'>
    <!-- CSS -->
    <link href='../themes/hutman/css/theme.css' rel='stylesheet' type='text/css'><link href='../themes/hutman/css/theme.css' rel='stylesheet' type='text/css'>
            <!-- Tipue Search -->
        <link href="../tipuesearch/tipuesearch.css" rel="stylesheet">
    
    <!--[if lt IE 9]>
    <script src="../themes/daux/js/html5shiv-3.7.3.min.js"></script>
    <![endif]-->
</head>
<body class=" ">
    <div class="Columns content">
    <aside class="Columns__left Collapsible">
        <button type="button" class="Button Collapsible__trigger">
            <span class="Collapsible__trigger__bar"></span>
            <span class="Collapsible__trigger__bar"></span>
            <span class="Collapsible__trigger__bar"></span>
        </button>

        <a class="Brand" href="../index.html">Hutman Concrete5 Documentation</a>

    <div class="Search">
        <svg class="Search__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 451 451">
            <path d="M447.05 428l-109.6-109.6c29.4-33.8 47.2-77.9 47.2-126.1C384.65 86.2 298.35 0 192.35 0 86.25 0 .05 86.3.05 192.3s86.3 192.3 192.3 192.3c48.2 0 92.3-17.8 126.1-47.2L428.05 447c2.6 2.6 6.1 4 9.5 4s6.9-1.3 9.5-4c5.2-5.2 5.2-13.8 0-19zM26.95 192.3c0-91.2 74.2-165.3 165.3-165.3 91.2 0 165.3 74.2 165.3 165.3s-74.1 165.4-165.3 165.4c-91.1 0-165.3-74.2-165.3-165.4z"/>
        </svg>
        <input type="search" id="tipue_search_input" class="Search__field" placeholder="Search..." autocomplete="on"
               results=25 autosave=text_search>
    </div>

        <div class="Collapsible__content">
            <!-- Navigation -->
            <ul class='Nav'><li class='Nav__item '><a href="../Developers_Guide.html">Developers Guide</a></li><li class='Nav__item Nav__item--open has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>Blocks</a><ul class='Nav'><li class='Nav__item '><a href="../Blocks/Overview.html">Overview</a></li><li class='Nav__item '><a href="../Blocks/Directory_Setup.html">Directory Setup</a></li><li class='Nav__item Nav__item--active'><a href="../Blocks/Controller.html">Controller</a></li><li class='Nav__item '><a href="../Blocks/Block_Types.html">Block Types</a></li></ul></li><li class='Nav__item  has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>Forms</a><ul class='Nav'><li class='Nav__item '><a href="../Forms/Standard_Widgets.html">Standard Widgets</a></li><li class='Nav__item  has-children'><a href="../Forms/Concrete5_Widgets/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Concrete5 Widgets</a><ul class='Nav'><li class='Nav__item '><a href="../Forms/Concrete5_Widgets/Calendar_Event_Selector.html">Calendar Event Selector</a></li><li class='Nav__item '><a href="../Forms/Concrete5_Widgets/Captcha.html">Captcha</a></li><li class='Nav__item '><a href="../Forms/Concrete5_Widgets/Color_Picker.html">Color Picker</a></li><li class='Nav__item '><a href="../Forms/Concrete5_Widgets/Date_Time.html">Date Time</a></li><li class='Nav__item '><a href="../Forms/Concrete5_Widgets/Page_Selector.html">Page Selector</a></li><li class='Nav__item '><a href="../Forms/Concrete5_Widgets/Rating.html">Rating</a></li><li class='Nav__item '><a href="../Forms/Concrete5_Widgets/User_Selector.html">User Selector</a></li></ul></li></ul></li><li class='Nav__item  has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>Helpers</a><ul class='Nav'><li class='Nav__item '><a href="../Helpers/JSON.html">JSON</a></li><li class='Nav__item '><a href="../Helpers/Navigation.html">Navigation</a></li><li class='Nav__item '><a href="../Helpers/Text.html">Text</a></li></ul></li><li class='Nav__item  has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>Jobs</a><ul class='Nav'><li class='Nav__item '><a href="../Jobs/Overview.html">Overview</a></li><li class='Nav__item '><a href="../Jobs/Job_Sets.html">Job Sets</a></li></ul></li><li class='Nav__item '><a href="../Logging.html">Logging</a></li><li class='Nav__item '><a href="../Mail.html">Mail</a></li><li class='Nav__item  has-children'><a href="../Pages/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Pages</a><ul class='Nav'><li class='Nav__item '><a href="../Pages/Overview.html">Overview</a></li><li class='Nav__item '><a href="../Pages/Listing_&_Searching.html">Listing & Searching</a></li><li class='Nav__item '><a href="../Pages/Single_Pages.html">Single Pages</a></li><li class='Nav__item '><a href="../Pages/Page_Types.html">Page Types</a></li></ul></li></ul>

            <div class="Links">
                                    <hr/>
                                            <a href="https://github.com/orgs/hutman" target="_blank">GitHub Repo</a>
                        <br />
                                            <a href="https://www.hutman.net" target="_blank">Hutman Website</a>
                        <br />
                                                </div>

                                <div class="CodeToggler">
                        <hr/>
                                                    <label class="Checkbox">Show Code Blocks                                <input type="checkbox" class="CodeToggler__button--main" checked="checked"/>
                                <div class="Checkbox__indicator"></div>
                            </label>
                                            </div>
                
                
                        </div>
    </aside>
    <div class="Columns__right Columns__right--full">
        <div class="Columns__right__content">
            <div class="doc_content">
                <article class="Page">

    <div class="Page__header">
        <h1><a href="../Blocks/Overview.html">Blocks</a> <svg class="Page__header--separator" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 477.175 477.175"><path d="M360.73 229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1 0s-5.3 13.8 0 19.1l215.5 215.5-215.5 215.5c-5.3 5.3-5.3 13.8 0 19.1 2.6 2.6 6.1 4 9.5 4 3.4 0 6.9-1.3 9.5-4l225.1-225.1c5.3-5.2 5.3-13.8.1-19z"/></svg> <a href="../Blocks/Controller.html">Controller</a></h1>
                    </div>

    <div class="s-content">
        <p>A block's controller can contain the following properties and methods.</p>
<h2 id="page_Properties">Properties</h2>
<h3 id="page_btTable-required">$btTable (required)</h3>
<p>This is the core block type table that you are saving data into.</p>
<h3 id="page_btExportTables">$btExportTables</h3>
<p>If your block uses more than one table. This is an array of tables that are connected to this block, this is used for the duplicate function.</p>
<h3 id="page_btInterfaceWidth-default-400">$btInterfaceWidth (default 400)</h3>
<h3 id="page_btInterfaceHeight-default-400">$btInterfaceHeight (default 400)</h3>
<p>These variables define, in pixels, the width and height of your block's window when added or edited.</p>
<h3 id="page_btSupportsInlineAdd-default-false">$btSupportsInlineAdd (default false)</h3>
<h3 id="page_btSupportsInlineEdit-default-false">$btSupportsInlineEdit (default false)</h3>
<p>These variables can be set to true if this block supports inline add/edit functionality (like the Content block).</p>
<h3 id="page_btDefaultSet">$btDefaultSet</h3>
<p>This variable can be set to defind the Block Set this Block Type should display in.  If none is defined it will display in the &quot;Other&quot; Set.</p>
<h3 id="page_btCacheBlockRecord-default-true">$btCacheBlockRecord (default true)</h3>
<p>Allow the block record to be cached.</p>
<h3 id="page_btCacheBlockOutput-default-false">$btCacheBlockOutput (default false)</h3>
<p>Allow the block output to be cached.</p>
<h3 id="page_btCacheBlockOutputLifetime-default-0">$btCacheBlockOutputLifetime (default 0)</h3>
<p>Time, in minutes, to cache the block's output.</p>
<h3 id="page_btCacheBlockOutputOnPost-default-false">$btCacheBlockOutputOnPost (default false)</h3>
<p>Allow the block output to be cached after post.</p>
<h3 id="page_btCacheBlockOutputForRegisteredUsers">$btCacheBlockOutputForRegisteredUsers</h3>
<p>Allow the block output to be cached for Registered Users.</p>
<h3 id="page_btIgnorePageThemeGridFrameworkContainer-default-false">$btIgnorePageThemeGridFrameworkContainer (default false)</h3>
<p>Define if this block should always ignore the area's grid framework container.</p>
<h3 id="page_helpers-default-form">$helpers (default ['form'])</h3>
<p>If your block needs helpers, this is an array of helpers to be included.</p>
<h3 id="page_supportSavingNullValues-default-false">$supportSavingNullValues (default false)</h3>
<p>Set this to true if the data sent to the save/performSave methods can contain NULL values that should be persisted.</p>
<h2 id="page_Methods">Methods</h2>
<h3 id="page_getBlockTypeName">getBlockTypeName()</h3>
<p>Returns the name of the block's type.</p>
<h3 id="page_getBlockTypeDescription">getBlockTypeDescription()</h3>
<p>Returns the description of the block type.</p>
<h3 id="page_on-_-start">on_start()</h3>
<p>Fires automatically when a block is interacted with. If you're thinking of putting something in the block's &quot;__construct()&quot; method, use this instead. It is run only when necessary and is less likely to be a performance drain.</p>
<h3 id="page_on-_-page-_-view">on_page_view()</h3>
<p>This function is automatically run when the block is viewed from within a page.</p>
<h3 id="page_add">add()</h3>
<p>This function is automatically run when the block is placed in add mode.</p>
<h3 id="page_edit">edit()</h3>
<p>This function is automatically run when the block is edited.</p>
<h3 id="page_validate">validate()</h3>
<p>This function is automatically run when the block is submitted to be saved and can return validation errors if needed.</p>
<h3 id="page_save-args">save($args)</h3>
<p>$args is an associated array, and is usually filled with the contents of the $_POST array (when either added or saved.) The BlockController save() method will actually rarely need to be overridden, as it inspects the columns of the block's core database table and looks through the $_POST to find matching columns, and saves data automatically.</p>
<h3 id="page_registerViewAssets-outputContent">registerViewAssets($outputContent = '')</h3>
<p>This function is automatically run when the block is viewed and can be used to include assets for the view.</p>
<h3 id="page_view">view()</h3>
<p>This function is automatically run when the block is viewed.</p>
<h3 id="page_set-key-value">set($key, $value)</h3>
<p>Takes a string $key and a mixed $value, and makes a variable of that name available from within a block's view, add or edit template. This is typically used within the add(), edit() or view() function.</p>
<h3 id="page_render-view">render($view)</h3>
<p>Renders a view that's in the block's folder. Does not require .php on the end of the filename.</p>
<h3 id="page_duplicate-newBlockID">duplicate($newBlockID)</h3>
<p>Run automatically when a block is duplicated. This most likely happens when a block that is in an approved version is updated. A block controller may override this function to provide specific duplicate-only functionality.</p>
<h3 id="page_delete">delete()</h3>
<p>Automatically run when a block is deleted. This removes the special data from the block's specific database table. If a block needs to do more than this this method should be overridden.</p>
    </div>

        <nav>
        <ul class="Pager">
            <li class=Pager--prev><a href="../Blocks/Directory_Setup.html">Previous</a></li>            <li class=Pager--next><a href="../Blocks/Block_Types.html">Next</a></li>        </ul>
    </nav>
    </article>

            </div>
        </div>
    </div>
</div>

    
    <!-- JS -->
    <script src="../themes/hutman/js/jquery-1.11.3.min.js"></script><script src="../themes/hutman/js/highlight.pack.js"></script><script src="../themes/hutman/js/daux.js"></script><script src="../themes/hutman/js/init.js"></script>
            <!-- Tipue Search -->
        <script type="text/javascript" src="../tipuesearch/tipuesearch.js"></script>

        <script>
            window.onunload = function(){}; // force $(document).ready to be called on back/forward navigation in firefox
            $(function() {
                tipuesearch({
                    'base_url': '../'
                });
            });
        </script>
    
</body>
</html>
